{
  "description": "RBAC and Permission Audit Logs - Demonstrates role-based access control and permission management",
  "use_case": "Security monitoring, access control compliance, team management auditing",
  "sample_logs": [
    {
      "id": "880e8400-e29b-41d4-a716-446655440001",
      "timestamp": "2024-12-01T08:00:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "user_create",
      "entity_type": "user",
      "entity_id": "2c9e6679-7425-40de-944b-e07fc1f90ae2",
      "entity_name": "jane.developer@acme-corp.com",
      "old_value": null,
      "new_value": null,
      "action_description": "created",
      "reason": "New hire joining Product Engineering team - needs developer access for Q1 roadmap",
      "created_at": "2024-12-01T08:00:00Z",
      "updated_at": "2024-12-01T08:00:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440002",
      "timestamp": "2024-12-01T08:05:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "role_assign",
      "entity_type": "user",
      "entity_id": "2c9e6679-7425-40de-944b-e07fc1f90ae2",
      "entity_name": "jane.developer@acme-corp.com",
      "old_value": "viewer",
      "new_value": "developer",
      "action_description": "assigned role",
      "reason": "Granting developer role - can create/manage experiments and feature flags",
      "created_at": "2024-12-01T08:05:00Z",
      "updated_at": "2024-12-01T08:05:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440003",
      "timestamp": "2024-12-05T14:30:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "user_create",
      "entity_type": "user",
      "entity_id": "3c9e6679-7425-40de-944b-e07fc1f90ae3",
      "entity_name": "mike.analyst@acme-corp.com",
      "old_value": null,
      "new_value": null,
      "action_description": "created",
      "reason": "Data Science team member - needs read access for experiment analysis",
      "created_at": "2024-12-05T14:30:00Z",
      "updated_at": "2024-12-05T14:30:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440004",
      "timestamp": "2024-12-05T14:32:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "role_assign",
      "entity_type": "user",
      "entity_id": "3c9e6679-7425-40de-944b-e07fc1f90ae3",
      "entity_name": "mike.analyst@acme-corp.com",
      "old_value": "viewer",
      "new_value": "analyst",
      "action_description": "assigned role",
      "reason": "Analyst role - can view all experiments/flags and access metrics, but cannot modify",
      "created_at": "2024-12-05T14:32:00Z",
      "updated_at": "2024-12-05T14:32:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440005",
      "timestamp": "2024-12-13T11:20:15Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "role_assign",
      "entity_type": "user",
      "entity_id": "2c9e6679-7425-40de-944b-e07fc1f90ae2",
      "entity_name": "jane.developer@acme-corp.com",
      "old_value": "developer",
      "new_value": "admin",
      "action_description": "assigned role",
      "reason": "Promoted to admin role for Q1 experimentation roadmap ownership and team management responsibilities",
      "created_at": "2024-12-13T11:20:15Z",
      "updated_at": "2024-12-13T11:20:15Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440006",
      "timestamp": "2024-12-15T16:00:00Z",
      "user_email": "jane.developer@acme-corp.com",
      "user_id": "2c9e6679-7425-40de-944b-e07fc1f90ae2",
      "action_type": "permission_grant",
      "entity_type": "user",
      "entity_id": "3c9e6679-7425-40de-944b-e07fc1f90ae3",
      "entity_name": "mike.analyst@acme-corp.com",
      "old_value": "read",
      "new_value": "read,update_metrics",
      "action_description": "granted permission",
      "reason": "Granting permission to update experiment success metrics for ongoing analysis work",
      "created_at": "2024-12-15T16:00:00Z",
      "updated_at": "2024-12-15T16:00:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440007",
      "timestamp": "2024-12-20T10:00:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "user_create",
      "entity_type": "user",
      "entity_id": "4c9e6679-7425-40de-944b-e07fc1f90ae4",
      "entity_name": "contractor@external-agency.com",
      "old_value": null,
      "new_value": null,
      "action_description": "created",
      "reason": "External contractor for UX research - temporary access for Q4 project",
      "created_at": "2024-12-20T10:00:00Z",
      "updated_at": "2024-12-20T10:00:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440008",
      "timestamp": "2024-12-20T10:02:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "role_assign",
      "entity_type": "user",
      "entity_id": "4c9e6679-7425-40de-944b-e07fc1f90ae4",
      "entity_name": "contractor@external-agency.com",
      "old_value": null,
      "new_value": "viewer",
      "action_description": "assigned role",
      "reason": "Viewer role only - read-only access for UX research, no modification permissions",
      "created_at": "2024-12-20T10:02:00Z",
      "updated_at": "2024-12-20T10:02:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440009",
      "timestamp": "2024-12-28T09:00:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "role_unassign",
      "entity_type": "user",
      "entity_id": "4c9e6679-7425-40de-944b-e07fc1f90ae4",
      "entity_name": "contractor@external-agency.com",
      "old_value": "viewer",
      "new_value": null,
      "action_description": "unassigned role",
      "reason": "Contractor project completed - removing access as per security policy",
      "created_at": "2024-12-28T09:00:00Z",
      "updated_at": "2024-12-28T09:00:00Z"
    },
    {
      "id": "880e8400-e29b-41d4-a716-446655440010",
      "timestamp": "2024-12-28T09:05:00Z",
      "user_email": "admin@acme-corp.com",
      "user_id": "1c9e6679-7425-40de-944b-e07fc1f90ae1",
      "action_type": "user_delete",
      "entity_type": "user",
      "entity_id": "4c9e6679-7425-40de-944b-e07fc1f90ae4",
      "entity_name": "contractor@external-agency.com",
      "old_value": "active",
      "new_value": "deleted",
      "action_description": "deleted",
      "reason": "User account removal per offboarding checklist - all audit logs retained per compliance policy",
      "created_at": "2024-12-28T09:05:00Z",
      "updated_at": "2024-12-28T09:05:00Z"
    }
  ],
  "role_definitions": {
    "admin": {
      "description": "Full system access - can manage users, experiments, feature flags, and system settings",
      "permissions": [
        "create_user",
        "delete_user",
        "assign_roles",
        "create_experiment",
        "update_experiment",
        "delete_experiment",
        "create_feature_flag",
        "update_feature_flag",
        "delete_feature_flag",
        "manage_safety_settings",
        "view_audit_logs"
      ]
    },
    "developer": {
      "description": "Can create and manage experiments and feature flags, but cannot manage users or system settings",
      "permissions": [
        "create_experiment",
        "update_experiment",
        "delete_own_experiment",
        "create_feature_flag",
        "update_feature_flag",
        "delete_own_feature_flag",
        "view_metrics",
        "view_audit_logs_limited"
      ]
    },
    "analyst": {
      "description": "Read-only access to all experiments and metrics, can export data and create reports",
      "permissions": [
        "view_experiments",
        "view_feature_flags",
        "view_metrics",
        "export_data",
        "create_reports",
        "view_audit_logs_limited"
      ]
    },
    "viewer": {
      "description": "Minimum access - can only view approved experiments and public dashboards",
      "permissions": [
        "view_approved_experiments",
        "view_public_dashboards"
      ]
    }
  },
  "insights": {
    "demonstrates": [
      "Complete RBAC system with 4 role levels",
      "User lifecycle from creation to deletion",
      "Permission changes tracked with before/after values",
      "Temporary access patterns for contractors",
      "Role promotion workflows",
      "Security-conscious access removal"
    ],
    "compliance_value": [
      "SOC 2 CC6.1: Logical access controls",
      "SOC 2 CC6.2: User access reviews",
      "ISO 27001 A.9.2: User access management",
      "GDPR: Right to erasure with audit retention",
      "HIPAA: Minimum necessary access principle"
    ],
    "security_benefits": [
      "Audit trail of all permission changes",
      "Accountability for access grants",
      "Tracking of privileged access",
      "Contractor access lifecycle management",
      "User deletion without losing audit history"
    ]
  }
}
